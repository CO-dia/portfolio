---
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

const challenges = await getCollection("ctf");
console.log({ challenges });
const webChallenges = challenges.filter((c) =>
  c.id.startsWith("pico-ctf/web/")
);
---

<Layout>
    <h1>PicoCTF Web Challenges</h1>

    <div class="grid">
      {webChallenges.map((challenge) => (
        <a href={`/ctf/${challenge.slug}/`} class="card">
          <h2>{challenge.data.title}</h2>
          <small>{challenge.data.difficulty}</small>
        </a>
      ))}
    </div>
</Layout>

<style>
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
  }
  .card {
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 1rem;
    text-decoration: none;
    color: inherit;
    background: white;
    transition: transform 0.1s ease;
  }
  .card:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
</style>
